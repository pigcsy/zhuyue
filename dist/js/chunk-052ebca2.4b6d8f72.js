(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-052ebca2"],{"0cd9":function(e,t,a){var n=a("f772"),r=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&r(e)===e}},"299b":function(e,t,a){"use strict";a.r(t),t["default"]={server:{host:"http://127.0.0.1:8092"}}},"3be2":function(e,t,a){e.exports=a("8790")},8516:function(e,t,a){var n=a("63b6");n(n.S,"Number",{isInteger:a("0cd9")})},8790:function(e,t,a){a("8516"),e.exports=a("584a").Number.isInteger},"91f3":function(e,t,a){var n={"./development":"e1e7","./development.js":"e1e7","./production":"c4d7","./production.js":"c4d7","./testing":"299b","./testing.js":"299b"};function r(e){var t=i(e);return a(t)}function i(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="91f3"},"9d94":function(e,t,a){"use strict";a("28a5");var n=a("795b"),r=a.n(n),i=a("7a6f"),s="production",o=a("91f3")("./".concat(s)).default,c=o.server,l=a("41cb");a.d(t,"b",function(){return d}),a.d(t,"e",function(){return m}),a.d(t,"d",function(){return p}),a.d(t,"c",function(){return f}),a.d(t,"a",function(){return g}),a.d(t,"f",function(){return c});var u=i["a"].axios,d=(i["a"].Axios,i["a"].AxiosGet),m=i["a"].AxiosPut,p=i["a"].AxiosPost,f=(i["a"].AxiosHead,i["a"].AxiosPatch),g=i["a"].AxiosDelete,b=(i["a"].AxiosOptions,i["a"].Method,"$BackendKey");u.defaults.timeout=5e3,u.defaults.withCredentials=!0,localStorage.getItem(b)&&(u.defaults.headers.common["Token"]=localStorage.getItem(b)),u.defaults.baseURL=c.host,u.interceptors.request.use(function(e){return e},function(e){return r.a.reject(e)}),u.interceptors.response.use(function(e){var t=e.config.url.split("/");return"login"===t[t.length-1]&&10001===e.data.code?(localStorage.setItem(b,e.data.data),u.defaults.headers.common["Token"]=localStorage.getItem(b),delete e.data["data"]):10008!==e.data.code&&10012!==e.data.code||(l["a"].push({path:"/backend/login"}),delete e["data"]),e},function(e){return r.a.reject(e)})},b7b5:function(e,t,a){},c4d7:function(e,t,a){"use strict";a.r(t),t["default"]={server:{host:"http://adichaoweb.xianjinloan.com"}}},d7d5:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"addition"}},[a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.isSubmit,expression:"isSubmit"}],attrs:{direction:"vertical"}},[a("el-header",[a("div",{attrs:{id:"sign"}},[a("span",{staticClass:"signicon"},[a("font",[e._v("#")])],1),a("span",{staticClass:"signtext"},[e._v("新增产品 :: 贷款产品")])]),a("div",{attrs:{id:"group"}},[a("button",{staticClass:"groupicon"},[a("i",{staticClass:"material-icons",on:{click:function(t){return e.submit("data")}}},[e._v("done_all")])]),a("span",{staticClass:"groupicon"},[a("i",{staticClass:"material-icons",on:{click:function(t){return e.reset("data")}}},[e._v("settings_backup_restore")])]),a("span",{staticClass:"groupicon"},[a("i",{staticClass:"material-icons",on:{click:function(t){return e.close()}}},[e._v("settings_power")])])])]),a("el-main",[a("div",{staticClass:"content"},[a("el-form",{ref:"data",attrs:{model:e.data,rules:e.rules,"label-width":"100px"}},[a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:6,sm:{span:16},md:{span:12},lg:{span:8},xl:{span:6}}},[a("div",{staticStyle:{"min-width":"378px","max-width":"398px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入名称"},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),a("el-form-item",{attrs:{label:"来源",prop:"source"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入来源"},model:{value:e.data.source,callback:function(t){e.$set(e.data,"source",t)},expression:"data.source"}})],1),a("el-form-item",{attrs:{label:"链接",prop:"jumpLink"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入跳转链接"},model:{value:e.data.jumpLink,callback:function(t){e.$set(e.data,"jumpLink",t)},expression:"data.jumpLink"}})],1),a("el-form-item",{attrs:{label:"简介",prop:"synopsis"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入简介"},model:{value:e.data.synopsis,callback:function(t){e.$set(e.data,"synopsis",t)},expression:"data.synopsis"}})],1),a("el-form-item",{staticClass:"locate",attrs:{label:"放款时长",prop:"makeLoans"}},[a("el-input-number",{attrs:{size:"small"},model:{value:e.data.makeLoans,callback:function(t){e.$set(e.data,"makeLoans",t)},expression:"data.makeLoans"}}),a("span",{staticClass:"depict"},[e._v(e._s("下款时长 ( 单位 : 分钟 )"))])],1),a("el-form-item",{staticClass:"locate",attrs:{label:"最低额度",prop:"minQuota"}},[a("el-input-number",{attrs:{size:"small",precision:2,step:10,min:1},model:{value:e.data.minQuota,callback:function(t){e.$set(e.data,"minQuota",t)},expression:"data.minQuota"}})],1),a("el-form-item",{staticClass:"locate",attrs:{label:"最高额度",prop:"maxQuota"}},[a("el-input-number",{attrs:{size:"small",precision:2,step:10,min:2},model:{value:e.data.maxQuota,callback:function(t){e.$set(e.data,"maxQuota",t)},expression:"data.maxQuota"}})],1),a("el-form-item",{staticClass:"locate",attrs:{label:"通过率",prop:"passRatio"}},[a("el-input-number",{attrs:{size:"small",precision:2,step:.1,min:0,max:100},model:{value:e.data.passRatio,callback:function(t){e.$set(e.data,"passRatio",t)},expression:"data.passRatio"}})],1),a("el-form-item",{staticClass:"locate",attrs:{label:"排序",prop:"sortPriority"}},[a("el-input-number",{attrs:{size:"small",min:0},model:{value:e.data.sortPriority,callback:function(t){e.$set(e.data,"sortPriority",t)},expression:"data.sortPriority"}})],1),a("el-form-item",{staticClass:"locate",attrs:{label:"状态",prop:"shelfStatus"}},[a("el-radio-group",{model:{value:e.data.shelfStatus,callback:function(t){e.$set(e.data,"shelfStatus",t)},expression:"data.shelfStatus"}},[a("el-radio",{attrs:{label:1}},[e._v(e._s("上架"))]),a("el-radio",{attrs:{label:0}},[e._v(e._s("下架"))])],1)],1)],1)]),a("el-col",{attrs:{span:0}}),a("el-col",{attrs:{span:5,sm:{span:16},md:{span:12},lg:{span:8},xl:{span:5}}},[a("el-form-item",{staticClass:"locate",attrs:{label:"图标",prop:"icon"}},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"avatar-uploader",attrs:{"on-success":e.onSuccess,"on-error":e.onError,"before-upload":e.beforeUpload,action:e.action,headers:e.headers,name:"icon","show-file-list":!1,"list-type":"picture-card"}},[e.data.icon?a("img",{staticClass:"avatar",attrs:{src:e.data.icon}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1)],1)],1)],1)])],1)],1)},r=[],i=(a("a481"),a("cebc")),s=a("3be2"),o=a.n(s),c=a("9d94"),l=a("d98b"),u={name:"backend-goods-addition",components:{},data:function(){var e=this;return{action:c["f"].host.concat(l["a"].api.upload),headers:{Token:localStorage.getItem("$BackendKey")?localStorage.getItem("$BackendKey"):""},loading:!1,isSubmit:!1,data:{icon:"",name:"",source:"",jumpLink:"",synopsis:"",makeLoans:"",minQuota:"",maxQuota:"",passRatio:"",shelfStatus:1,sortPriority:0},rules:{icon:[{required:!0,message:"请上传图标"}],name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],source:[{required:!0,message:"请输入来源",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],jumpLink:[{required:!0,message:"请输入跳转链接",trigger:"blur"}],synopsis:[{required:!0,message:"请输入简介",trigger:"blur"},{min:2,max:100,message:"长度在 2 到 100 个字符",trigger:"blur"}],makeLoans:[{required:!0,validator:function(e,t,a){if(void 0===t)return a(new Error("请输入放款时长 ( 单位 : 分钟 )"));o()(t)?t>0?a():a(new Error("时长必须为 > 0 的数字值 ( 单位 : 分钟 )")):a(new Error("时长必须为数字值 ( 单位 : 分钟 )"))},trigger:["blur","change"]}],minQuota:[{required:!0,validator:function(t,a,n){var r=e,i=r.data.maxQuota;if(void 0===a)return n(new Error("请输入最低额度"));a>=.1?i>a?n():n(new Error("最低额度必须 < 最高额度")):n(new Error("最低额度必须 > 0.10 "))},trigger:["blur","change"]}],maxQuota:[{required:!0,validator:function(t,a,n){var r=e,i=r.data.minQuota;if(void 0===a)return n(new Error("请输入最高额度"));a>=.1?(a>i?n():n(new Error("最高额度必须 > 最低额度")),r.$refs["data"].validateField("minQuota")):n(new Error("最高额度必须为 > 0.10 "))},trigger:["blur","change"]}],passRatio:[{required:!0,validator:function(e,t,a){if(void 0===t)return a(new Error("请输入通过率"));t>0?a():a(new Error("通过率必须 > 0 "))},trigger:["blur","change"]}],sortPriority:[{required:!0,validator:function(e,t,a){if(void 0===t)return a(new Error("请输入排序"));o()(t)?t>=0?a():a(new Error("排序必须为 >= 0 的数字值")):a(new Error("排序必须为数字值"))},trigger:"blur"},{required:!0,validator:function(e,t,a){if(void 0===t)return a(new Error("请输入排序"));o()(t)?t>=0?a():a(new Error("排序必须为 >= 0 的数字值")):a(new Error("排序必须为数字值"))},trigger:"change"}],shelfStatus:[{required:!0,message:"请选择状态",trigger:"change"}]}}},methods:{submit:function(e){var t=this;t.$refs[e].validate(function(e){e&&(t.isSubmit=!0,setTimeout(function(){l["a"].addition(Object(i["a"])({},t.data)).then(function(e){e?10001===e.code?t.$message({center:!0,type:"success",duration:"1500",message:"保存".concat(e.result),onClose:function(){return t.close()}}):(t.isSubmit=!1,t.$message({center:!0,type:"warning",message:"保存失败 , ".concat(e.result)})):t.isSubmit=!1},function(e){t.isSubmit=!1,t.$message({center:!0,type:"warning",message:"保存失败 , 网络异常"}),console.error(e)})},500))})},reset:function(e){var t=this;t.$refs[e].resetFields(),t.data.icon=""},close:function(){var e=this;e.$router.replace({path:"/backend/goods"})},onSuccess:function(e){var t=this;t.loading=!1,e&&(10013===e.code?(t.data.icon=e.data,t.$refs["data"].validateField("icon")):t.$message({center:!0,type:"warning",message:e.result}))},onError:function(e){var t=this;t.loading=!1,t.$message({center:!0,type:"warning",message:"上传失败 , 网络异常"}),console.error(e)},beforeUpload:function(e){var t=this,a="image/jpeg"===e.type||"image/png"===e.type,n=e.size/1024/1024<2;return a||t.$message({center:!0,type:"warning",message:"上传图标只能是 JPG/PNG 格式. "}),n||t.$message({center:!0,type:"warning",message:"上传图标大小不能超过 2MB. "}),t.loading=a&&n,a&&n}},beforeCreate:function(){},beforeMount:function(){}},d=u,m=(a("deca"),a("2877")),p=Object(m["a"])(d,n,r,!1,null,null,null);t["default"]=p.exports},d98b:function(e,t,a){"use strict";var n=a("795b"),r=a.n(n),i={obtainPaging:"/api/v1/lending/goods/paging/{page}",obtain:"/api/v1/lending/goods/{id}",remove:"/api/v1/lending/goods/{id}",addition:"/api/v1/lending/goods",modify:"/api/v1/lending/goods",upload:"/api/v1/lending/goods/upload"},s=i,o=a("9d94"),c=function(e){return new r.a(function(t,a){return Object(o["b"])(s.obtainPaging,{params:e}).then(function(e){var a=e.data;return t(a)}).catch(function(e){return a(e)})})},l=function(e){return new r.a(function(t,a){return Object(o["b"])(s.obtain,{params:e}).then(function(e){var a=e.data;return t(a)}).catch(function(e){return a(e)})})},u=function(e){return new r.a(function(t,a){return Object(o["a"])(s.remove,{params:e}).then(function(e){var a=e.data;return t(a)}).catch(function(e){return a(e)})})},d=function(e){return new r.a(function(t,a){return Object(o["d"])(s.addition,{data:e}).then(function(e){var a=e.data;return t(a)}).catch(function(e){return a(e)})})},m=function(e){return new r.a(function(t,a){return Object(o["e"])(s.modify,{data:e}).then(function(e){var a=e.data;return t(a)}).catch(function(e){return a(e)})})},p=s,f={obtainPaging:c,obtain:l,remove:u,addition:d,modify:m,api:p},g=f;a.d(t,"a",function(){return g})},deca:function(e,t,a){"use strict";var n=a("b7b5"),r=a.n(n);r.a},e1e7:function(e,t,a){"use strict";a.r(t),t["default"]={server:{host:"http://adichaoweb.xianjinloan.com"}}}}]);
//# sourceMappingURL=chunk-052ebca2.4b6d8f72.js.map